#!/usr/bin/env python2
import sqlite3
import os
home = os.path.expanduser('~')
config=open(home + "/.config/ffclean")
count = 0
domains = []
for line in config:
    if count < 1:
        path= line
    else:
        domains.append(line.strip())
        count = count + 1
con = sqlite3.connect(path)
c =con.cursor()
delete = ['delete', 'from', 'moz_cookies', 'where']
select = ['select', '*', 'from', 'moz_cookies', 'where']
for i in domains:
    delete.append('baseDomain <> "' +  i + '" AND ')
    select.append('baseDomain <> "' +  i + '" AND ')
d = " ".join(delete)
s = " ".join(select)
s = s[:-4]
d = d[:-4]

c.execute(d)
c.execute(s)
count = 0
for i in c.fetchall():
    print i
    count = count + 1
print count
